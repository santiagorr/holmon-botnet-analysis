<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>blockmon: blockmon::ThreadHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">blockmon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceblockmon.html">blockmon</a></li><li class="navelem"><a class="el" href="classblockmon_1_1ThreadHandler.html">ThreadHandler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classblockmon_1_1ThreadHandler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">blockmon::ThreadHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="ThreadHandler_8hpp_source.html">ThreadHandler.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1ed4c3adf710208a5a34bd5dc9427ea1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classblockmon_1_1ThreadHandler.html#a1ed4c3adf710208a5a34bd5dc9427ea1">ThreadHandler</a> (Scheduler &amp;sched, unsigned int id)</td></tr>
<tr class="memitem:a9a963a738814ce584bcb10e3419b7b84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classblockmon_1_1ThreadHandler.html#a9a963a738814ce584bcb10e3419b7b84">run</a> (const std::vector&lt; unsigned int &gt; &amp;aff)</td></tr>
<tr class="memitem:a880fb488e20b4b84f7c2dd83936bab2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classblockmon_1_1ThreadHandler.html#a880fb488e20b4b84f7c2dd83936bab2d">operator()</a> ()</td></tr>
<tr class="memitem:a72765b5597ee77296f14337a705b263b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classblockmon_1_1ThreadHandler.html#a72765b5597ee77296f14337a705b263b">stop</a> ()</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A single thread in a thread pool.</p>
<p>Also implements the actual functor which is executed by the thread. It is in charge of retrieving from the pool scheduler the next block to be executed, as well as to start up the actual thread. Notice that this is a callable object and the functor method is executed within the context of the thread itself, while the other functions (mainly concerning configuration) are executed in the context of BlockMon's main thread.</p>
<p>FIXME this class is not portable as it uses pthread in order to manage the affinity. To my knowledge, there is no portable way of doing that. </p>

<p>Definition at line <a class="el" href="ThreadHandler_8hpp_source.html#l00070">70</a> of file <a class="el" href="ThreadHandler_8hpp_source.html">ThreadHandler.hpp</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1ed4c3adf710208a5a34bd5dc9427ea1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">blockmon::ThreadHandler::ThreadHandler </td>
          <td>(</td>
          <td class="paramtype">Scheduler &amp;&#160;</td>
          <td class="paramname"><em>sched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a <a class="el" href="classblockmon_1_1ThreadHandler.html">ThreadHandler</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sched</td><td>reference to the unique scheduler of this pool (which is owned by the calling <a class="el" href="classblockmon_1_1ThreadPool.html">ThreadPool</a> object)</td></tr>
    <tr><td class="paramname">id</td><td>this threads id (needed by the scheduler depending on the policy) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ThreadHandler_8hpp_source.html#l00092">92</a> of file <a class="el" href="ThreadHandler_8hpp_source.html">ThreadHandler.hpp</a>.</p>

</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a880fb488e20b4b84f7c2dd83936bab2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void blockmon::ThreadHandler::operator() </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is the actual function that the thread executes.</p>
<p>It receives a block from the scheduler, class its <a class="el" href="classblockmon_1_1ThreadHandler.html#a9a963a738814ce584bcb10e3419b7b84">run()</a> method and returns it to the scheduler. The thread runs until the it is told to stop by setting the m_stop boolean flag. </p>

<p>Definition at line <a class="el" href="ThreadHandler_8hpp_source.html#l00128">128</a> of file <a class="el" href="ThreadHandler_8hpp_source.html">ThreadHandler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9a963a738814ce584bcb10e3419b7b84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void blockmon::ThreadHandler::run </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; unsigned int &gt; &amp;&#160;</td>
          <td class="paramname"><em>aff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Starts up the actual thread and gives it... </p>
<pre class="fragment">This as a callable object to execute.  This will cause the
</pre><p> new thread to execute the <a class="el" href="classblockmon_1_1ThreadHandler.html#a880fb488e20b4b84f7c2dd83936bab2d">operator()()</a> method of this class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aff</td><td>the CPUs the thread is allowed to run on (an empty vector means no affinity specification) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ThreadHandler_8hpp_source.html#l00106">106</a> of file <a class="el" href="ThreadHandler_8hpp_source.html">ThreadHandler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a72765b5597ee77296f14337a705b263b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void blockmon::ThreadHandler::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Tells the running thread to stop and blocks until it terminates. </p>

<p>Definition at line <a class="el" href="ThreadHandler_8hpp_source.html#l00167">167</a> of file <a class="el" href="ThreadHandler_8hpp_source.html">ThreadHandler.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/santiago/src/blockmon-compile-a-la-upstream/blockmon-0.827872f/core/scheduler/<a class="el" href="ThreadHandler_8hpp_source.html">ThreadHandler.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 2 2013 17:48:35 for blockmon by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
